{
    "version": "https://jsonfeed.org/version/1",
    "title": "dev-web-with-me",
    "description": "",
    "home_page_url": "http://devwebwithme.tk",
    "feed_url": "http://devwebwithme.tk/feed.json",
    "user_comment": "",
    "author": {
        "name": "@dp0613"
    },
    "items": [
        {
            "id": "http://devwebwithme.tk/switch-va-if-else-if-khi-nao-va-o-dau-1506942139/",
            "url": "http://devwebwithme.tk/switch-va-if-else-if-khi-nao-va-o-dau-1506942139/",
            "title": "switch case và if else: Liệu bạn có đang dùng búa để đóng tua vít?",
            "content_html": "<p>L&agrave; một lập tr&igrave;nh vi&ecirc;n PHP th&igrave; tui c&oacute; niềm tin rằng bạn biết đến cấu tr&uacute;c <code>switch...case</code> v&agrave; <code>if... else</code>.</p>\n<p>Trong b&agrave;i viết n&agrave;y tui sẽ cố gắng ph&acirc;n t&iacute;ch xem khi n&agrave;o th&igrave; ch&uacute;ng ta d&ugrave;ng <code>switch...case</code>, khi n&agrave;o th&igrave; d&ugrave;ng <code>if... else</code>.</p>\n<p>Trước ti&ecirc;n, dưới đ&acirc;y l&agrave; đoạn code tui lấy từ blog <a href=\"http://fluffycat.com\" target=\"_blank\" rel=\"noopener noreferrer\">FluffyCat.com</a>, đoạn code n&agrave;y sẽ thử xem trong 100.000 lần lặp th&igrave; liệu <code>switch...case</code> hay <code>if...else&nbsp;</code>nhanh hơn...</p>\n<pre><code class=\"language-php\">\n&lt;?php\n\t//copyright Lawrence Truett and FluffyCat.com 2009, all rights reserved\n  \tdefine('BR', '&lt;'.'BR'.'&gt;');\n\techo 'Performance Testing PHP if / else VS switch with 100,000 iterations'.BR.BR;\n\t\n\t$ifTime = 0;\n\t$switchTime = 0;\n\tfor ($x = 0; $x &lt; 100000; $x++) {\n\t\t$oneToFive = rand(1,5);\n\t\tif (0 == fmod($x,2)) {\n\t\t\t$switchTime = $switchTime + testSwitch($oneToFive);\n\t\t\t$ifTime = $ifTime + testIf($oneToFive);\n\t\t} else {\n\t\t\t$ifTime = $ifTime + testIf($oneToFive);  \t\t\t\n\t\t\t$switchTime = $switchTime + testSwitch($oneToFive);  \t\t\n\t\t}\n\t}\n\techo 'total if / else time: '.$ifTime.BR;\n\techo 'total case time: '.$switchTime.BR;\n\techo BR;\n\tif ($ifTime &gt; $switchTime) {\n\t\techo 'switch is quicker by '.($ifTime - $switchTime).BR;\n\t} else {\n\t\techo 'if / else is quicker by '.($switchTime - $ifTime).BR;\t\t\n\t}\n\n\tfunction testSwitch($oneToFive) {\n\t\t$time_start = microtime(true);\n\t\tswitch($oneToFive) {\n\t\t\tcase 1: $z = 1; break;\n\t\t\tcase 2: $z = 2; break;\n\t\t\tcase 3: $z = 3; break;\n\t\t\tcase 4: $z = 4; break;\n\t\t\tcase 5: $z = 5; break;\t\t\t\t\t\t\n\t\t}\n\t\t$time_end = microtime(true);\n\t\t$time = $time_end - $time_start;\n\t\treturn $time;\n\t}\n  \n\tfunction testIf($oneToFive) {\n\t\t$time_start = microtime(true);\n\t\tif (1 == $oneToFive) {\n\t\t\t$z = 1;\n\t\t} elseif(2 == $oneToFive) {\n\t\t\t$z = 2;\t\t\t\n\t\t} elseif(3 == $oneToFive) {\n\t\t\t$z = 3;\t\n\t\t} elseif(4 == $oneToFive) {\n\t\t\t$z = 4;\t\n\t\t} elseif(5 == $oneToFive) {\n\t\t\t$z = 5;\t\n\t\t}\n\t\t$time_end = microtime(true);\n\t\t$time = $time_end - $time_start;\n\t\treturn $time;\n\t}\n?&gt;\n</code></pre>\n<blockquote>tui đ&atilde; chạy thử v&agrave;i lần v&agrave; kết quả l&agrave; <code>if...else</code> nhanh hơn.</blockquote>\n<h4>Tới đ&acirc;y ta kết luận được điều g&igrave;?</h4>\n<p>Nếu cấu tr&uacute;c <code>if</code> nhanh hơn th&igrave; PHP lại c&oacute; th&ecirc;m <code>switch</code> để l&agrave;m g&igrave;? Viết code kh&ocirc;ng phải chỉ nh&igrave;n ở tốc độ thực thi, n&oacute; c&ograve;n phụ thuộc v&agrave;o độ sạch v&agrave; dễ hiểu của code. Nếu bạn d&ugrave;ng <code>if</code> v&igrave; nghĩ n&oacute; nhanh th&igrave; đ&ocirc;i l&uacute;c \"người đến sau\" sẽ bị \"thất đi&ecirc;n b&aacute;t đảo\", ng&agrave;y đ&ecirc;m mất ngủ v&igrave; bạn (&agrave; nhầm, v&igrave; đống hỗn loạn bạn để lại).</p>\n<p>Ch&uacute;ng ta sẽ c&ugrave;ng nhau đi x&eacute;t những v&iacute; dụ v&agrave; r&uacute;t ra kết luận xem khi n&agrave;o d&ugrave;ng <code>switch</code> v&agrave; khi n&agrave;o d&ugrave;ng <code>if</code> nh&eacute;.</p>\n<p><strong><em>V&iacute; dụ 1: Sử dụng<code> if</code> hay <code>switch</code> khi c&oacute; từ 2 trường hợp trở l&ecirc;n?</em></strong></p>\n<pre><code class=\"language-php\">\n&lt;?php \n\tswitch($a)\n\t{\n\t\tcase 1:\n\t\t\t//trường hợp 1\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\t//trường hợp 2\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\t//trường hợp 3\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\t//trường hợp 4\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t//mặc định\n\t\t\tbreak;\n\t}\n\t\n\tif($a === 1)\n\t{\n\t\t//trường hợp 1\n\t} elseif($a === 2)\n\t{\n\t\t//trường hợp 2\n\t} elseif($a === 3)\n\t{\n\t\t//trường hợp 3\n\t} elseif($a === 4)\n\t{\n\t\t//trường hợp 4\n\t} else\n\t{\n\t\t//mặc định\n\t}\n?&gt;\n</code></pre>\n<p>Bạn thấy g&igrave; chưa? Vẫn c&ograve;n chưa thấy &agrave;? Khi d&ugrave;ng <code>switch</code> th&igrave; calo của bạn sẽ đỡ tốn hơn đấy, c&ograve;n khi d&ugrave;ng <code>if</code> v&agrave; rồi <code>elseif</code> v&agrave; <code>elseif</code> một lần nữa... &ocirc;i! l&uacute;c đ&oacute; tui đảm bảo n&atilde;o của bạn sẽ n&oacute;ng l&ecirc;n. C&oacute; 1 b&iacute; mật của tui m&agrave; rất nhục khi người kh&aacute;c biết l&agrave; tui lu&ocirc;n viết <code>else</code> th&agrave;nh <code>esle</code>, v&agrave; n&atilde;y giờ khi viết b&agrave;i n&agrave;y tui đ&atilde; sửa n&oacute; được mấy lần rồi đ&oacute; :fire: .</p>\n<blockquote><strong>Kết luận:</strong> D&ugrave;ng <code>switch</code> khi c&oacute; từ 2 trường hợp trở l&ecirc;n.</blockquote>\n<p><em><strong>V&iacute; dụ 2: Khi so s&aacute;nh với gi&aacute; trị trả về từ 1 h&agrave;m n&agrave;o đ&oacute;</strong></em></p>\n<pre><code class=\"language-php\">\n&lt;?php \n\tswitch(myFunc())\n\t{\n\t\tcase 1:\n\t\t\t//trường hợp 1\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\t//trường hợp 2\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t//mặc định\n\t\t\tbreak;\n\t}\n\t\n\tif(myFunc() === 1)\n\t{\n\t\t//trường hợp 1\n\t} else if(myFunc() === 2)\n\t{\n\t\t//trường hợp 2\n\t} else\n\t{\n\t\t//mặc định\n\t}\n?&gt;\n</code></pre>\n<p>Nếu so s&aacute;nh như kiểu ở tr&ecirc;n, bạn sẽ dễ d&agrave;ng nhận ra được khi d&ugrave;ng <code>switch</code> th&igrave; h&agrave;m <code>myFunc()</code> chỉ được gọi 1 lần, c&ograve;n khi d&ugrave;ng&nbsp;<code>if</code> l&agrave; <span style=\"text-decoration: line-through;\">mấy tỉ</span> 2 lần.</p>\n<blockquote><strong>Kết luận:</strong> D&ugrave;ng <code>switch</code> khi bạn muốn so s&aacute;nh với gi&aacute; trị trả về từ 1 h&agrave;m.</blockquote>\n<p>&nbsp;V&iacute; dụ 3: Khi điều kiện qu&aacute; phức tạp</p>\n<pre><code class=\"language-php\">\n&lt;?php \n\tswitch(TRUE)\n\t{\n\t\tcase 'bar':\n\t\tcase 'baz':\n\t\tcase 'bat':\n\t\tcase 'buz':\n\t\t\t//l&agrave;m g&igrave; đ&oacute;\n\t\t\tbreak;\n\t}\n\t\n\tif($foo == 'bar' || $foo == 'baz' || $foo == 'bat' || $foo == 'buz')\n\t{\n\t\t//l&agrave;m g&igrave; đ&oacute;\n\t}\n?&gt;\n</code></pre>\n<p>&nbsp;Bạn thấy c&aacute;ch n&agrave;o dễ đọc hơn (tui c&oacute; niềm tin l&agrave; bạn hiểu hết cả 2 c&aacute;ch)?</p>\n<p>Th&ecirc;m 1 v&iacute; dụ tương tự nh&eacute;:</p>\n<pre><code class=\"language-php\">\n&lt;?php \n\n\tswitch(FALSE)\n\t{\n\t\tcase $foo == 'baz' &amp;&amp; $baz == 'foo':\n\t\tcase $foo == 'foo' &amp;&amp; $baz == 'baz':\n\t\t\t//l&agrave;m g&igrave; đ&oacute;\n\t\t\tbreak;\n\t}\n\t\n\tif(($foo == 'baz' &amp;&amp; $baz == 'foo') || ($foo == 'foo' &amp;&amp; $baz == 'baz'))\n\t{\n\t\t//l&agrave;m g&igrave; đ&oacute;\n\t}\n?&gt;\n</code></pre>\n<blockquote><strong>Kết luận:</strong> D&ugrave;ng <code>switch</code> khi điều kiện phức tạp</blockquote>\n<h4>&nbsp;Kết luận</h4>\n<p>C&aacute;m ơn c&aacute;c bạn đ&atilde; đọc đến đ&acirc;y. Khi code th&igrave; đừng ch&uacute; &yacute; qu&aacute; đến hiệu năng, phải dễ đọc dễ hiểu đ&atilde;. Hi vọng những v&iacute; dụ ở tr&ecirc;n sẽ gi&uacute;p c&aacute;c bạn c&oacute; th&ecirc;m 1 c&aacute;ch nh&igrave;n mới trong nghề \"code dạo\".&nbsp;</p>\n<p>H&atilde;y để lại &yacute; kiến hoặc gi&uacute;p tui t&igrave;m th&ecirc;m v&iacute; dụ nh&eacute;.</p>",
            "image": "http://devwebwithme.tk/media/posts/5/confused-880735_1280.jpg",
            "author": {
                "name": "@dp0613"
            },
            "tags": [
                   "Kinh nghiệm"
            ],
            "date_published": "2017-10-02T17:58:46+07:00",
            "date_modified": "2017-10-04T10:24:27+07:00"
        }
    ]
}
