<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>switch case và if else: Liệu bạn có đang dùng búa để đóng tua vít? - /* Dev Web With Me */</title><meta name="robots" content="index, follow"><link rel="canonical" href="http://devwebwithme.tk/switch-va-if-else-if-lieu-ban-co-dang-dung-bua-dong-tua-vit-1506942139/"><link rel="amphtml" href="http://devwebwithme.tk/amp/switch-va-if-else-if-lieu-ban-co-dang-dung-bua-dong-tua-vit-1506942139/"><link type="application/atom+xml" rel="alternate" href="http://devwebwithme.tk/feed.xml"><meta property="og:title" content="switch case và if else: Liệu bạn có đang dùng búa để đóng tua vít?"><meta property="og:image" content="http://devwebwithme.tk/media/posts/5/confused-880735_1280.jpg"><meta property="og:site_name" content="My blog - /* Dev Web With Me */"><meta property="og:description" content=""><link rel="stylesheet" href="http://devwebwithme.tk/assets/css/style.css?v&#x3D;826854311eaffa1e96c3c1bf608a0203"><link rel="stylesheet" href="http://devwebwithme.tk/assets/css/responsiveslides.css?v&#x3D;895ebaa8b26d099f10a16526ba78f510"><link rel="stylesheet" href="http://devwebwithme.tk/assets/css/prism.css?v&#x3D;b1dda787b1a9954b1b6b1cccea7f81cf"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"http://devwebwithme.tk/switch-va-if-else-if-lieu-ban-co-dang-dung-bua-dong-tua-vit-1506942139/"},"headline":"switch case và if else: Liệu bạn có đang dùng búa để đóng tua vít?","datePublished":"2017-10-02T17:58","dateModified":"2017-10-05T20:47","image":{"@type":"ImageObject","url":"http://devwebwithme.tk/media/posts/5/confused-880735_1280.jpg","height":853,"width":1280},"description":"L&agrave; một lập tr&igrave;nh vi&ecirc;n PHP th&igrave; tui c&oacute; niềm tin rằng bạn biết đến cấu tr&uacute;c switch...case v&agrave; if... else. Trong b&agrave;i viết n&agrave;y tui sẽ cố gắng ph&acirc;n&hellip;","author":{"@type":"Person","name":"@dp0613"},"publisher":{"@type":"Organization","name":"@dp0613"}}</script></head><body><div class="container"><header class="top"><a class="logo" href="http://devwebwithme.tk">/* Dev Web With Me */</a><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle">Menu</button><ul class="navbar__menu"><li><a href="http://devwebwithme.tk/" title="Trang chủ">Trang chủ</a></li><li class="has-submenu"><span title="Bài viết">Bài viết</span><ul class="navbar__submenu"><li><a href="http://devwebwithme.tk/chuyen-muc/khoa-hoc/" title="Khóa học">Khóa học</a></li><li><a href="http://devwebwithme.tk/chuyen-muc/huong-dan/" title="Hướng dẫn">Hướng dẫn</a></li><li><a href="http://devwebwithme.tk/chuyen-muc/kinh-nghiem/" title="Kinh nghiệm">Kinh nghiệm</a></li><li><a href="http://devwebwithme.tk/chuyen-muc/sach-hay/" title="Sách hay">Sách hay</a></li><li><a href="http://devwebwithme.tk/chuyen-muc/loi-song/" title="Lối sống">Lối sống</a></li></ul></li><li><span title="Dự án">Dự án</span></li><li><a href="http://devwebwithme.tk/tac-gia/dp0613/" title="Về @dp0613">Về @dp0613</a></li><li><a href="http://devwebwithme.tk/lien-he/" title="Liên hệ">Liên hệ</a></li><li class="donate-btn"><a href="http://devwebwithme.tk/ung-ho-toi/" title="ỦNG HỘ TÔI !">ỦNG HỘ TÔI !</a></li></ul></nav></header><main class="main"><article class="post"><header><h1>switch case và if else: Liệu bạn có đang dùng búa để đóng tua vít?</h1><ul class="post__meta u-small"><li>Tác giả: <a href="http://devwebwithme.tk/tac-gia/dp0613/" rel="author" title="@dp0613">@dp0613</a></li><li>Xuất bản vào: <time datetime="2017-10-02T17:58">02/10/2017 17:58:46</time></li><li>Chuyên mục: <a href="http://devwebwithme.tk/chuyen-muc/kinh-nghiem/" title="Kinh nghiệm">Kinh nghiệm</a></li></ul><figure><img src="http://devwebwithme.tk/media/posts/5/confused-880735_1280.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="http://devwebwithme.tk/media/posts/5/responsive/confused-880735_1280-xs.jpg 300w, http://devwebwithme.tk/media/posts/5/responsive/confused-880735_1280-sm.jpg 480w, http://devwebwithme.tk/media/posts/5/responsive/confused-880735_1280-md.jpg 768w, http://devwebwithme.tk/media/posts/5/responsive/confused-880735_1280-lg.jpg 1024w" alt="switch case và if else: Liệu bạn có đang dùng búa để đóng tua vít?"><figcaption>Liệu bạn có đang dùng búa để đóng tua vít? (Hình ảnh từ Pixabay.com)</figcaption></figure></header><div class="post__entry"><p>L&agrave; một lập tr&igrave;nh vi&ecirc;n PHP th&igrave; tui c&oacute; niềm tin rằng bạn biết đến cấu tr&uacute;c <code>switch...case</code> v&agrave; <code>if... else</code>.</p><p>Trong b&agrave;i viết n&agrave;y tui sẽ cố gắng ph&acirc;n t&iacute;ch xem khi n&agrave;o th&igrave; ch&uacute;ng ta d&ugrave;ng <code>switch...case</code>, khi n&agrave;o th&igrave; d&ugrave;ng <code>if... else</code>.</p><p>Trước ti&ecirc;n, dưới đ&acirc;y l&agrave; đoạn code tui lấy từ blog <a href="http://fluffycat.com" target="_blank" rel="noopener noreferrer">FluffyCat.com</a>, đoạn code n&agrave;y sẽ thử xem trong 100.000 lần lặp th&igrave; liệu <code>switch...case</code> hay <code>if...else&nbsp;</code>nhanh hơn...</p><pre><code class="language-php">
&lt;?php
	//copyright Lawrence Truett and FluffyCat.com 2009, all rights reserved
  	define('BR', '&lt;'.'BR'.'&gt;');
	echo 'Performance Testing PHP if / else VS switch with 100,000 iterations'.BR.BR;
	
	$ifTime = 0;
	$switchTime = 0;
	for ($x = 0; $x &lt; 100000; $x++) {
		$oneToFive = rand(1,5);
		if (0 == fmod($x,2)) {
			$switchTime = $switchTime + testSwitch($oneToFive);
			$ifTime = $ifTime + testIf($oneToFive);
		} else {
			$ifTime = $ifTime + testIf($oneToFive);  			
			$switchTime = $switchTime + testSwitch($oneToFive);  		
		}
	}
	echo 'total if / else time: '.$ifTime.BR;
	echo 'total case time: '.$switchTime.BR;
	echo BR;
	if ($ifTime &gt; $switchTime) {
		echo 'switch is quicker by '.($ifTime - $switchTime).BR;
	} else {
		echo 'if / else is quicker by '.($switchTime - $ifTime).BR;		
	}

	function testSwitch($oneToFive) {
		$time_start = microtime(true);
		switch($oneToFive) {
			case 1: $z = 1; break;
			case 2: $z = 2; break;
			case 3: $z = 3; break;
			case 4: $z = 4; break;
			case 5: $z = 5; break;						
		}
		$time_end = microtime(true);
		$time = $time_end - $time_start;
		return $time;
	}
  
	function testIf($oneToFive) {
		$time_start = microtime(true);
		if (1 == $oneToFive) {
			$z = 1;
		} elseif(2 == $oneToFive) {
			$z = 2;			
		} elseif(3 == $oneToFive) {
			$z = 3;	
		} elseif(4 == $oneToFive) {
			$z = 4;	
		} elseif(5 == $oneToFive) {
			$z = 5;	
		}
		$time_end = microtime(true);
		$time = $time_end - $time_start;
		return $time;
	}
?&gt;
</code></pre><blockquote>tui đ&atilde; chạy thử v&agrave;i lần v&agrave; kết quả l&agrave; <code>if...else</code> nhanh hơn.</blockquote><h4>Tới đ&acirc;y ta kết luận được điều g&igrave;?</h4><p>Nếu cấu tr&uacute;c <code>if</code> nhanh hơn th&igrave; PHP lại c&oacute; th&ecirc;m <code>switch</code> để l&agrave;m g&igrave;? Viết code kh&ocirc;ng phải chỉ nh&igrave;n ở tốc độ thực thi, n&oacute; c&ograve;n phụ thuộc v&agrave;o độ sạch v&agrave; dễ hiểu của code. Nếu bạn d&ugrave;ng <code>if</code> v&igrave; nghĩ n&oacute; nhanh th&igrave; đ&ocirc;i l&uacute;c "người đến sau" sẽ bị "thất đi&ecirc;n b&aacute;t đảo", ng&agrave;y đ&ecirc;m mất ngủ v&igrave; bạn (&agrave; nhầm, v&igrave; đống hỗn loạn bạn để lại).</p><p>Ch&uacute;ng ta sẽ c&ugrave;ng nhau đi x&eacute;t những v&iacute; dụ v&agrave; r&uacute;t ra kết luận xem khi n&agrave;o d&ugrave;ng <code>switch</code> v&agrave; khi n&agrave;o d&ugrave;ng <code>if</code> nh&eacute;.</p><p><strong><em>V&iacute; dụ 1: Sử dụng<code>if</code> hay <code>switch</code> khi c&oacute; từ 2 trường hợp trở l&ecirc;n?</em></strong></p><pre><code class="language-php">
&lt;?php 
	switch($a)
	{
		case 1:
			//trường hợp 1
			break;
		case 2:
			//trường hợp 2
			break;
		case 3:
			//trường hợp 3
			break;
		case 4:
			//trường hợp 4
			break;
		default:
			//mặc định
			break;
	}
	
	if($a === 1)
	{
		//trường hợp 1
	} else if($a === 2)
	{
		//trường hợp 2
	} else if($a === 3)
	{
		//trường hợp 3
	} else if($a === 4)
	{
		//trường hợp 4
	} else
	{
		//mặc định
	}
?&gt;
</code></pre><p>Bạn thấy g&igrave; chưa? Vẫn c&ograve;n chưa thấy &agrave;? Khi d&ugrave;ng <code>switch</code> th&igrave; calo của bạn sẽ đỡ tốn hơn đấy, c&ograve;n khi d&ugrave;ng <code>if</code> v&agrave; rồi <code>elseif</code> v&agrave; <code>elseif</code> một lần nữa... &ocirc;i! l&uacute;c đ&oacute; tui đảm bảo n&atilde;o của bạn sẽ n&oacute;ng l&ecirc;n. C&oacute; 1 b&iacute; mật của tui m&agrave; rất nhục khi người kh&aacute;c biết l&agrave; tui lu&ocirc;n viết <code>else</code> th&agrave;nh <code>esle</code>, v&agrave; n&atilde;y giờ khi viết b&agrave;i n&agrave;y tui đ&atilde; sửa n&oacute; được mấy lần rồi đ&oacute; :fire: .</p><blockquote><strong>Kết luận:</strong> D&ugrave;ng <code>switch</code> khi c&oacute; từ 2 trường hợp trở l&ecirc;n.</blockquote><p><em><strong>V&iacute; dụ 2: Khi so s&aacute;nh với gi&aacute; trị trả về từ 1 h&agrave;m n&agrave;o đ&oacute;</strong></em></p><pre><code class="language-php">
&lt;?php 
	switch(myFunc())
	{
		case 1:
			//trường hợp 1
			break;
		case 2:
			//trường hợp 2
			break;
		default:
			//mặc định
			break;
	}
	
	if(myFunc() === 1)
	{
		//trường hợp 1
	} else if(myFunc() === 2)
	{
		//trường hợp 2
	} else
	{
		//mặc định
	}
?&gt;
</code></pre><p>Nếu so s&aacute;nh như kiểu ở tr&ecirc;n, bạn sẽ dễ d&agrave;ng nhận ra được khi d&ugrave;ng <code>switch</code> th&igrave; h&agrave;m <code>myFunc()</code> chỉ được gọi 1 lần, c&ograve;n khi d&ugrave;ng&nbsp;<code>if</code> l&agrave; <span style="text-decoration: line-through">mấy tỉ</span> 2 lần.</p><blockquote><strong>Kết luận:</strong> D&ugrave;ng <code>switch</code> khi bạn muốn so s&aacute;nh với gi&aacute; trị trả về từ 1 h&agrave;m.</blockquote><p><em><strong>&nbsp;V&iacute; dụ 3: Khi điều kiện qu&aacute; phức tạp</strong></em></p><pre><code class="language-php">
&lt;?php 
	switch(TRUE)
	{
		case 'bar':
		case 'baz':
		case 'bat':
		case 'buz':
			//l&agrave;m g&igrave; đ&oacute;
			break;
	}
	
	if($foo == 'bar' || $foo == 'baz' || $foo == 'bat' || $foo == 'buz')
	{
		//l&agrave;m g&igrave; đ&oacute;
	}
?&gt;
</code></pre><p>&nbsp;Bạn thấy c&aacute;ch n&agrave;o dễ đọc hơn (tui c&oacute; niềm tin l&agrave; bạn hiểu hết cả 2 c&aacute;ch)?</p><p>Th&ecirc;m 1 v&iacute; dụ tương tự nh&eacute;:</p><pre><code class="language-php">
&lt;?php 

	switch(TRUE)
	{
		case $foo == 'baz' &amp;&amp; $baz == 'foo':
		case $foo == 'foo' &amp;&amp; $baz == 'baz':
			//l&agrave;m g&igrave; đ&oacute;
			break;
	}
	
	if(($foo == 'baz' &amp;&amp; $baz == 'foo') || ($foo == 'foo' &amp;&amp; $baz == 'baz'))
	{
		//l&agrave;m g&igrave; đ&oacute;
	}
?&gt;
</code></pre><blockquote><strong>Kết luận:</strong> D&ugrave;ng <code>switch</code> khi điều kiện phức tạp</blockquote><h4>&nbsp;Kết luận</h4><p>C&aacute;m ơn c&aacute;c bạn đ&atilde; đọc đến đ&acirc;y. Khi code th&igrave; đừng ch&uacute; &yacute; qu&aacute; đến hiệu năng, phải dễ đọc dễ hiểu đ&atilde;. Hi vọng những v&iacute; dụ ở tr&ecirc;n sẽ gi&uacute;p c&aacute;c bạn c&oacute; th&ecirc;m 1 c&aacute;ch nh&igrave;n mới trong nghề "code dạo".&nbsp;</p><p>H&atilde;y để lại &yacute; kiến hoặc gi&uacute;p tui t&igrave;m th&ecirc;m v&iacute; dụ nh&eacute;.</p></div><footer class="post__footer"><ul class="post__tag post__footer__box"><span class="post__footer__box__title">Chuyên mục: </span><a href="http://devwebwithme.tk/chuyen-muc/kinh-nghiem/">Kinh nghiệm</a></ul><div class="post__share post__footer__box"><span class="post__footer__box__title">Chia sẻ ngay: </span><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fdevwebwithme.tk%2Fswitch-va-if-else-if-lieu-ban-co-dang-dung-bua-dong-tua-vit-1506942139%2F" class="js-share facebook" title="Chia sẻ với Facebook" rel="nofollow"><svg class="u-icon" aria-hidden="true"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#facebook"/></svg> Facebook </a><a href="https://twitter.com/share?url=http%3A%2F%2Fdevwebwithme.tk%2Fswitch-va-if-else-if-lieu-ban-co-dang-dung-bua-dong-tua-vit-1506942139%2F&amp;via=/* Dev Web With Me */&amp;text=switch%20case%20v%C3%A0%20if%20else%3A%20Li%E1%BB%87u%20b%E1%BA%A1n%20c%C3%B3%20%C4%91ang%20d%C3%B9ng%20b%C3%BAa%20%C4%91%E1%BB%83%20%C4%91%C3%B3ng%20tua%20v%C3%ADt%3F" class="js-share twitter" title="Chia sẻ với Twitter" rel="nofollow"><svg class="u-icon" aria-hidden="true"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#twitter"/></svg> Twitter </a><a href="https://pinterest.com/pin/create/button/?url=http%3A%2F%2Fdevwebwithme.tk%2Fswitch-va-if-else-if-lieu-ban-co-dang-dung-bua-dong-tua-vit-1506942139%2F&amp;media=undefined&amp;description=switch%20case%20v%C3%A0%20if%20else%3A%20Li%E1%BB%87u%20b%E1%BA%A1n%20c%C3%B3%20%C4%91ang%20d%C3%B9ng%20b%C3%BAa%20%C4%91%E1%BB%83%20%C4%91%C3%B3ng%20tua%20v%C3%ADt%3F" class="js-share pinterest" title="Chia sẻ với Pinterest" rel="nofollow"><svg class="u-icon" aria-hidden="true"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#pinterest"/></svg> Pinterest </a><a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fdevwebwithme.tk%2Fswitch-va-if-else-if-lieu-ban-co-dang-dung-bua-dong-tua-vit-1506942139%2F&amp;title=switch%20case%20v%C3%A0%20if%20else%3A%20Li%E1%BB%87u%20b%E1%BA%A1n%20c%C3%B3%20%C4%91ang%20d%C3%B9ng%20b%C3%BAa%20%C4%91%E1%BB%83%20%C4%91%C3%B3ng%20tua%20v%C3%ADt%3F" class="js-share stumbleupon" title="Chia sẻ với StumbleUpon" rel="nofollow"><svg class="u-icon" aria-hidden="true"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#stumbleupon"/></svg> Stumbleupon</a></div><div class="post__bio post__footer__box"><img src="http://devwebwithme.tk/media/website/dp0613.png" alt="@dp0613"> <span><a href="http://devwebwithme.tk/tac-gia/dp0613/" title="@dp0613">@dp0613</a></span><p>Đam mê lập trình web. Yêu database. Ghét framework. Hay vọc bảo mật. Lấy chia sẻ và kết bạn làm niềm vui.</p><p><a href="http://devwebwithme.tk/tac-gia/dp0613/">Xem tất cả bài viết của @dp0613</a></p></div></footer></article><div class="comments-box post__footer__box"><span class="post__footer__post__footer__box__title">Thảo luận</span><div class="comments"><div id="comment-loading" class="loading"></div><div id="login-box" class="login">Bạn nghĩ như thế nào về bài viết này?<br><button onclick="login()">Tham gia bình luận</button><div class="copyright">Chức năng này cần liên kết với tài khoản Google</div></div><div id="comment-box" class="comment-input"><div class="avatar"><img id="user-avatar" src="" width="32" height="32"></div><div class="input"><textarea id="comment-content" onkeyup="autoSizing(this)" onkeydown="submitComment(event)" placeholder="Comment gõ vào đây :D"></textarea><span>Gõ xong nhấn <kbd>Ctrl</kbd> + <kbd>Enter</kbd> để gửi.</span></div></div><ul id="comment-list" class="comment-list"></ul></div></div></main><div class="sidebar"><section class="owner box box--gray"><h3 class="box__title">Blog của</h3><img src="http://devwebwithme.tk/media/website/dp0613.png" alt="@dp0613"><h4>@dp0613</h4><p>Đam mê lập trình web. Yêu database. Ghét framework. Hay vọc bảo mật. Lấy chia sẻ và kết bạn làm niềm vui. <a href="mailto:dp0613@yandex.com" class="owner__email">dp0613@yandex.com</a></p></section><section class="box"><h3 class="box__title">Tìm kiếm</h3><form action="http://devwebwithme.tk/search.html" class="search"><input type="search" name="q" placeholder="Tìm kiếm..."></form></section><section class="newsletter box box--gray"><h3 class="box__title">Bảng tin</h3><p class="newsletter__note">Đăng ký nhận email khi có bài viết mới!</p><div id="mc_embed_signup"><form action="//devwebwithme.us16.list-manage.com/subscribe/post?u=d188fd8611ca2d7e2761d5f34&id=47b22fb56d" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate><div id="mc_embed_signup_scroll"><div class="indicates-required"><div class="mc-field-group"><label for="mce-EMAIL">Địa chỉ email <span class="asterisk">*</span></label><input type="email" name="EMAIL" class="required email" id="mce-EMAIL"></div><div class="mc-field-group"><label for="mce-SKILL">Ngôn ngữ lập trình bạn thành thạo <span class="asterisk">*</span></label><input type="text" name="SKILL" class="required" id="mce-SKILL"></div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><div style="position: absolute; left: -5000px" aria-hidden="true"><input type="text" name="b_d188fd8611ca2d7e2761d5f34_47b22fb56d" tabindex="-1"></div><div class="clear"><input type="submit" value="Đăng ký" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div></div></form></div></section></div><footer class="footer u-small"><div class="footer__copyright"><strong>@dp0613 &copy; 2017</strong></div><div class="footer__social"><a href="http://fb.me/devwebwithme" title="Facebook" aria-label="Facebook"><svg class="u-icon"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://www.youtube.com/channel/UCWtdAy2Lw2d6K1jZG_PEoCQ" title="Youtube" aria-label="Youtube"><svg class="u-icon"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#youtube"/></svg></a></div></footer></div><script src="https://www.gstatic.com/firebasejs/3.8.0/firebase.js"></script><script>// Initialize Firebase
	  var config = {
		apiKey: "AIzaSyBSQ4FWB5zxIP25qDLvY955QXcsnM8XHVc",
		authDomain: "dev-web-with-me.firebaseapp.com",
		databaseURL: "https://dev-web-with-me.firebaseio.com",
		projectId: "dev-web-with-me",
		storageBucket: "dev-web-with-me.appspot.com",
		messagingSenderId: "348013493597"
	  };
	  firebase.initializeApp(config);</script><script src="http://devwebwithme.tk/assets/js/comment.js?v&#x3D;3e591f87c96ce0494de450f5f3790d0c"></script><script defer="defer" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" aria-dropeffect="" crossorigin="anonymous"></script><script defer="defer" src="http://devwebwithme.tk/assets/js/scripts.min.js?v&#x3D;dcda9dc754c0f24cd97bf12f3cc39a88"></script><script defer="defer" src="http://devwebwithme.tk/assets/js/prism.js?v&#x3D;a52070c22521d42a4b1216d83b44f037"></script><script defer="defer" src="http://devwebwithme.tk/assets/js/responsiveslides.min.js?v&#x3D;e0289984dca27448c5d08ed905598c4a"></script></body></html>