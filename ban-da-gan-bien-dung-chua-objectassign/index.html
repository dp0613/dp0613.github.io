<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Javascript Object - Bạn đã gán biến đúng chưa? - /* Dev Web With Me */</title><meta name="robots" content="index, follow"><link rel="canonical" href="http://devwebwithme.tk/ban-da-gan-bien-dung-chua-objectassign/"><link rel="amphtml" href="http://devwebwithme.tk/amp/ban-da-gan-bien-dung-chua-objectassign/"><link type="application/atom+xml" rel="alternate" href="http://devwebwithme.tk/feed.xml"><meta property="og:title" content="Javascript Object - Bạn đã gán biến đúng chưa?"><meta property="og:image" content="http://devwebwithme.tk/media/posts/14/objects.png"><meta property="og:site_name" content="My blog - /* Dev Web With Me */"><meta property="og:description" content="Khi l&agrave;m việc với JS ai cũng phải &iacute;t nhất 1 lần chạm tới object. B&ecirc;n dưới tui khai b&aacute;o một object như sau: var myObject = { 'first_key': 'first&hellip;"><link rel="stylesheet" href="http://devwebwithme.tk/assets/css/style.css?v=ba7572a39a6a41cc526788660991e644"><link rel="stylesheet" href="http://devwebwithme.tk/assets/css/responsiveslides.css?v=895ebaa8b26d099f10a16526ba78f510"><link rel="stylesheet" href="http://devwebwithme.tk/assets/css/prism.css?v=147995b9e817e37b603341dbaca09e16"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"http://devwebwithme.tk/ban-da-gan-bien-dung-chua-objectassign/"},"headline":"Javascript Object - Bạn đã gán biến đúng chưa?","datePublished":"2017-11-14T17:45","dateModified":"2017-11-30T08:01","image":{"@type":"ImageObject","url":"http://devwebwithme.tk/media/posts/14/objects.png","height":327,"width":300},"description":"Khi l&agrave;m việc với JS ai cũng phải &iacute;t nhất 1 lần chạm tới object. B&ecirc;n dưới tui khai b&aacute;o một object như sau: var myObject = { 'first_key': 'first&hellip;","author":{"@type":"Person","name":"@dp0613"},"publisher":{"@type":"Organization","name":"@dp0613"}}</script></head><body><div class="container"><header class="top"><a class="logo" href="http://devwebwithme.tk">/* Dev Web With Me */</a><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle">Menu</button><ul class="navbar__menu"><li><a href="http://devwebwithme.tk/" title="Trang chủ">Trang chủ</a></li><li class="has-submenu"><span title="Bài viết">Bài viết</span><ul class="navbar__submenu"><li><a href="http://devwebwithme.tk/chuyen-muc/khoa-hoc/" title="Khóa học">Khóa học</a></li><li><a href="http://devwebwithme.tk/chuyen-muc/huong-dan/" title="Hướng dẫn">Hướng dẫn</a></li><li><a href="http://devwebwithme.tk/chuyen-muc/kinh-nghiem/" title="Kinh nghiệm">Kinh nghiệm</a></li><li><a href="http://devwebwithme.tk/chuyen-muc/sach-hay/" title="Sách hay">Sách hay</a></li><li><a href="http://devwebwithme.tk/chuyen-muc/loi-song/" title="Lối sống">Lối sống</a></li></ul></li><li><span title="Dự án">Dự án</span></li><li><a href="http://devwebwithme.tk/tac-gia/dp0613/" title="Về @dp0613">Về @dp0613</a></li><li><a href="http://devwebwithme.tk/lien-he/" title="Liên hệ">Liên hệ</a></li><li class="donate-btn"><a href="http://devwebwithme.tk/ung-ho-toi/" title="ỦNG HỘ TÔI !">ỦNG HỘ TÔI !</a></li></ul></nav></header><main class="main main--full"><article class="post"><header><h1>Javascript Object - Bạn đã gán biến đúng chưa?</h1><ul class="post__meta u-small"><li>Tác giả: <a href="http://devwebwithme.tk/tac-gia/dp0613/" rel="author" title="@dp0613">@dp0613</a></li><li>Xuất bản vào: <time datetime="2017-11-14T17:45">14/11/2017 17:45:04</time></li><li>Chuyên mục: <a href="http://devwebwithme.tk/chuyen-muc/huong-dan/" title="Hướng dẫn">Hướng dẫn</a></li></ul><figure><img src="http://devwebwithme.tk/media/posts/14/objects.png" sizes="(max-width: 1024px) 100vw, 1024px" srcset="http://devwebwithme.tk/media/posts/14/responsive/objects-xs.png 300w, http://devwebwithme.tk/media/posts/14/responsive/objects-sm.png 480w, http://devwebwithme.tk/media/posts/14/responsive/objects-md.png 768w, http://devwebwithme.tk/media/posts/14/responsive/objects-lg.png 1024w" alt="Javascript Object - Bạn đã biến đúng chưa?"><figcaption>Javascript Object - Bạn đã biến đúng chưa? (Hình ảnh từ tensor-programming.com)</figcaption></figure></header><div class="post__entry"><p>Khi l&agrave;m việc với JS ai cũng phải &iacute;t nhất 1 lần chạm tới object. B&ecirc;n dưới tui khai b&aacute;o một object như sau:</p><pre><code class="language-javascript">
  var myObject = {
  	'first_key': 'first value',
    'second_key': 'second value',
    'third_key': 'third value',
  };</code></pre><h3>Khi một object bằng 1 object kh&aacute;c</h3><p>V&iacute; dụ tui c&oacute; 1 object c&oacute; t&ecirc;n l&agrave; Hoa quả. Object Hoa quả n&agrave;y hiện chưa c&oacute; g&igrave; cả. Lại c&oacute; 1 object kh&aacute;c c&oacute; t&ecirc;n l&agrave; Chuối. Tui muốn Hoa quả sẽ nhận tất cả c&aacute;c phần tử của Chuối l&agrave;m con. Như vậy ta c&oacute; code như sau:</p><pre><code class="language-javascript">
var fruits = [];
var bananas = [
	{
  		'name': 'Vietnamese Bananas',
  		'size': '18cm'
  	},
  	{
  		'name': 'African Bananas',
  		'size': '25cm'
  	},
  	{
  		'name': 'American Bananas',
  		'size': '23cm'
  	}
];

fruits = bananas;
</code></pre><p>&nbsp;V&agrave; kết quả như sau:</p><figure class="post__image--center"><img src="http://devwebwithme.tk/media/posts/14/Untitled.png" sizes="(max-width: 48em) 100vw, 768px" srcset="http://devwebwithme.tk/media/posts/14/responsive/Untitled-xs.png 300w, http://devwebwithme.tk/media/posts/14/responsive/Untitled-sm.png 480w, http://devwebwithme.tk/media/posts/14/responsive/Untitled-md.png 768w" alt="" width="410" height="82"></figure><p>B&acirc;y giờ ch&uacute;ng ta thử thay đổi object Chuối:</p><pre><code class="language-javascript">
bananas[0]['name'] = "Another banana"; //Empty bananas
console.log('fruits', fruits);
</code></pre><p>&nbsp;Kết quả như sau:</p><figure class="post__image--center"><img src="http://devwebwithme.tk/media/posts/14/1.png" sizes="(max-width: 48em) 100vw, 768px" srcset="http://devwebwithme.tk/media/posts/14/responsive/1-xs.png 300w, http://devwebwithme.tk/media/posts/14/responsive/1-sm.png 480w, http://devwebwithme.tk/media/posts/14/responsive/1-md.png 768w" alt="" width="380" height="81"></figure><p>L&uacute;c n&agrave;y object Hoa quả đ&atilde; thay đổi. Mặc d&ugrave; tui chưa đụng chạm g&igrave; tới n&oacute; cả. Đ&acirc;y ch&iacute;nh l&agrave; một lỗi m&agrave; hay gặp khi muốn d&ugrave;ng object Hoa quả để cache. R&otilde; r&agrave;ng khi d&ugrave;ng với mục đ&iacute;ch n&agrave;y, bạn muốn dữ liệu được lưu lại v&agrave;o object Hoa quả, sợ bị thay đổi trong qu&aacute; tr&igrave;nh t&iacute;nh to&aacute;n. Vậy m&agrave; ...&nbsp;</p><h3>Bạn đ&atilde; l&agrave;m sai ngay từ đầu</h3><p>Nh&igrave;n lại d&ograve;ng code n&agrave;y&nbsp;</p><pre><code class="language-javascript">fruits = bananas;</code></pre><p>D&ograve;ng code tưởng chừng ai cũng hiểu n&agrave;y ch&iacute;nh l&agrave; c&aacute;i sai ngay từ đầu của bạn. Để hiểu đ&uacute;ng n&oacute;, bạn phải hiểu được <a title="Javascript Object - Thừa kế v&agrave; kế thừa" href="http://devwebwithme.tk/huong-dan/javascript-object-thua-ke-va-ke-thua">inherit trong JS</a>. N&oacute; kh&ocirc;ng đơn giản l&agrave; g&aacute;n <code>fruits</code> bằng <code>bananas</code> m&agrave; l&agrave; n&oacute;i với tr&igrave;nh duyệt rằng <code>fruits</code> sẽ đồng bệnh tương l&acirc;n&nbsp;với <code>bananas</code> cho d&ugrave; c&oacute; bao nhi&ecirc;u s&oacute;ng gi&oacute; xảy ra, ch&uacute;ng vẫn giống nhau. ::SML::</p><h3>V&agrave; c&aacute;ch l&agrave;m đ&uacute;ng</h3><p>Nhi&ecirc;u đ&oacute; đủ sến s&uacute;a rồi, giờ v&agrave;o vấn đề ch&iacute;nh nh&eacute;, n&atilde;y giờ chỉ l&agrave; mở b&agrave;i th&ocirc;i. X&eacute;t đoạn code b&ecirc;n dưới:</p><pre><code class="language-javascript">var fruits = [];
var bananas = [
	{
  		'name': 'Vietnamese Bananas',
  		'size': '18cm'
  	},
  	{
  		'name': 'African Bananas',
  		'size': '25cm'
  	},
  	{
  		'name': 'American Bananas',
  		'size': '23cm'
  	}
];

fruits = JSON.parse(JSON.stringify(bananas));

console.log('fruits', fruits);</code></pre><p>&nbsp;V&agrave; kết quả như sau:</p><figure class="post__image--center"><img src="http://devwebwithme.tk/media/posts/14/3.png" sizes="(max-width: 48em) 100vw, 768px" srcset="http://devwebwithme.tk/media/posts/14/responsive/3-xs.png 300w, http://devwebwithme.tk/media/posts/14/responsive/3-sm.png 480w, http://devwebwithme.tk/media/posts/14/responsive/3-md.png 768w" alt="" width="394" height="68"></figure><p>&nbsp;Thử thay đổi object Chuối như sau:</p><pre><code class="language-javascript">
bananas[0]['name'] = "Another banana"; //Empty bananas
console.log('fruits', fruits);</code></pre><p>&nbsp;V&agrave; kết quả:</p><p>&nbsp;</p><figure class="post__image--center"><img src="http://devwebwithme.tk/media/posts/14/3.png" sizes="(max-width: 48em) 100vw, 768px" srcset="http://devwebwithme.tk/media/posts/14/responsive/3-xs.png 300w, http://devwebwithme.tk/media/posts/14/responsive/3-sm.png 480w, http://devwebwithme.tk/media/posts/14/responsive/3-md.png 768w" alt="" width="394" height="68"></figure><p>Bingo!&nbsp;</p><p>Định n&oacute;i th&ecirc;m m&agrave; kh&ocirc;ng biết n&oacute;i g&igrave;, n&oacute;i chung l&agrave; hết rồi. Muốn b&agrave;n luận g&igrave; th&igrave; cứ tranh thủ nh&eacute;.</p></div><footer class="post__footer"><ul class="post__tag post__footer__box"><span class="post__footer__box__title">Chuyên mục: </span><a href="http://devwebwithme.tk/chuyen-muc/huong-dan/">Hướng dẫn</a></ul><div class="post__share post__footer__box"><span class="post__footer__box__title">Chia sẻ ngay: </span><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fdevwebwithme.tk%2Fban-da-gan-bien-dung-chua-objectassign%2F" class="js-share facebook" title="Chia sẻ với Facebook" rel="nofollow"><svg class="u-icon" aria-hidden="true"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#facebook"/></svg> Facebook </a><a href="https://twitter.com/share?url=http%3A%2F%2Fdevwebwithme.tk%2Fban-da-gan-bien-dung-chua-objectassign%2F&amp;via=/* Dev Web With Me */&amp;text=Javascript%20Object%20-%20B%E1%BA%A1n%20%C4%91%C3%A3%20g%C3%A1n%20bi%E1%BA%BFn%20%C4%91%C3%BAng%20ch%C6%B0a%3F" class="js-share twitter" title="Chia sẻ với Twitter" rel="nofollow"><svg class="u-icon" aria-hidden="true"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#twitter"/></svg> Twitter </a><a href="https://pinterest.com/pin/create/button/?url=http%3A%2F%2Fdevwebwithme.tk%2Fban-da-gan-bien-dung-chua-objectassign%2F&amp;media=undefined&amp;description=Javascript%20Object%20-%20B%E1%BA%A1n%20%C4%91%C3%A3%20g%C3%A1n%20bi%E1%BA%BFn%20%C4%91%C3%BAng%20ch%C6%B0a%3F" class="js-share pinterest" title="Chia sẻ với Pinterest" rel="nofollow"><svg class="u-icon" aria-hidden="true"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#pinterest"/></svg> Pinterest </a><a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fdevwebwithme.tk%2Fban-da-gan-bien-dung-chua-objectassign%2F&amp;title=Javascript%20Object%20-%20B%E1%BA%A1n%20%C4%91%C3%A3%20g%C3%A1n%20bi%E1%BA%BFn%20%C4%91%C3%BAng%20ch%C6%B0a%3F" class="js-share stumbleupon" title="Chia sẻ với StumbleUpon" rel="nofollow"><svg class="u-icon" aria-hidden="true"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#stumbleupon"/></svg> Stumbleupon</a></div><div class="post__bio post__footer__box"><img src="http://devwebwithme.tk/media/website/dp0613.png" alt="@dp0613"> <span><a href="http://devwebwithme.tk/tac-gia/dp0613/" title="@dp0613">@dp0613</a></span><p>Đam mê lập trình web. Yêu database. Ghét framework. Hay vọc bảo mật. Lấy chia sẻ và kết bạn làm niềm vui.</p><p><a href="http://devwebwithme.tk/tac-gia/dp0613/">Xem tất cả bài viết của @dp0613</a></p></div></footer></article><div class="comments-box post__footer__box"><span class="post__footer__post__footer__box__title">Thảo luận</span><div class="comments"><div id="comment-loading" class="loading"></div><div id="login-box" class="login">Bạn nghĩ như thế nào về bài viết này?<br><button onclick="login()">Tham gia bình luận</button><div class="copyright">Chức năng này cần liên kết với tài khoản Google</div></div><div id="comment-box" class="comment-input"><div class="avatar"><img id="user-avatar" src="" width="32" height="32"></div><div class="input"><textarea id="comment-content" onkeyup="autoSizing(this)" onkeydown="submitComment(event)" placeholder="Comment gõ vào đây :D"></textarea><span>Gõ xong nhấn <kbd>Ctrl</kbd> + <kbd>Enter</kbd> để gửi.</span></div></div><ul id="comment-list" class="comment-list"></ul></div></div></main><footer class="footer u-small"><div class="footer__copyright"><strong>@dp0613 &copy; 2017</strong></div><div class="footer__social"><a href="http://fb.me/devwebwithme" title="Facebook" aria-label="Facebook"><svg class="u-icon"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://www.youtube.com/channel/UCWtdAy2Lw2d6K1jZG_PEoCQ" title="Youtube" aria-label="Youtube"><svg class="u-icon"><use xlink:href="http://devwebwithme.tk/assets/svg/svg-map.svg#youtube"/></svg></a></div></footer></div><script src="https://www.gstatic.com/firebasejs/3.8.0/firebase.js"></script><script>// Initialize Firebase
	  var config = {
		apiKey: "AIzaSyBSQ4FWB5zxIP25qDLvY955QXcsnM8XHVc",
		authDomain: "dev-web-with-me.firebaseapp.com",
		databaseURL: "https://dev-web-with-me.firebaseio.com",
		projectId: "dev-web-with-me",
		storageBucket: "dev-web-with-me.appspot.com",
		messagingSenderId: "348013493597"
	  };
	  firebase.initializeApp(config);</script><script src="http://devwebwithme.tk/assets/js/comment.js?v=3e591f87c96ce0494de450f5f3790d0c"></script><script defer="defer" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" aria-dropeffect="" crossorigin="anonymous"></script><script defer="defer" src="http://devwebwithme.tk/assets/js/scripts.min.js?v=dcda9dc754c0f24cd97bf12f3cc39a88"></script><script defer="defer" src="http://devwebwithme.tk/assets/js/prism.js?v=a52070c22521d42a4b1216d83b44f037"></script><script defer="defer" src="http://devwebwithme.tk/assets/js/responsiveslides.min.js?v=e0289984dca27448c5d08ed905598c4a"></script></body></html>